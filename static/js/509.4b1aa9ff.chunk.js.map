{"version":3,"file":"static/js/509.4b1aa9ff.chunk.js","mappings":"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","sources":["components/Modal.jsx","components/EditContactModal/EditContactModal.jsx","hooks/useEditContactModal.js","services/normalizedName.js","services/validationPhone.js","utils/notification.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n//Material UI\nimport Container from '@mui/material/Container';\n\nconst Modal = ({ children }) => {\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (event.code === 'Escape') {\n        navigate('/contacts');\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [navigate]);\n\n  const handleBackdropClick = event => {\n    if (event.target === event.currentTarget) {\n      navigate('/contacts');\n    }\n  };\n\n  return (\n    <Container\n      maxWidth=\"false\"\n      component=\"div\"\n      onClick={handleBackdropClick}\n      sx={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100vh',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        bgcolor: 'rgba(0, 0, 0, 0.5)',\n        zIndex: 1200,\n      }}\n    >\n      {children}\n    </Container>\n  );\n};\n\nexport default Modal;\n","//Material UI\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Grid from '@mui/material/Grid';\nimport TextField from '@mui/material/TextField';\nimport Typography from '@mui/material/Typography';\n//Local import\nimport Modal from 'components/Modal';\nimport { useEditContactModal } from 'hooks/useEditContactModal';\n\nconst EditContactModal = () => {\n  const {\n    name,\n    phone,\n    nameError,\n    phoneError,\n    handleChangeName,\n    handleChangePhone,\n    handleEditContact,\n  } = useEditContactModal();\n\n  return (\n    <Modal>\n      <Box\n        width={{ xs: '75%', sm: '50%', md: '35%', lg: '25%', xl: '20%' }}\n        padding={{ xs: 3, sm: 4 }}\n        sx={{\n          bgcolor: '#fff',\n          borderRadius: 4,\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          boxShadow: '0px 0px 42px -20px rgba(0,0,0,0.3)',\n        }}\n      >\n        <Typography\n          component=\"h2\"\n          variant=\"h6\"\n          sx={{\n            textAlign: 'center',\n            marginBottom: 2,\n          }}\n        >\n          Edit contact\n        </Typography>\n\n        <Box component=\"form\" noValidate onSubmit={handleEditContact} sx={{}}>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                required\n                type=\"text\"\n                fullWidth\n                id=\"name\"\n                label=\"Name\"\n                name=\"name\"\n                error={nameError}\n                onChange={handleChangeName}\n                value={name}\n                variant=\"standard\"\n              />\n            </Grid>\n\n            <Grid item xs={12}>\n              <TextField\n                required\n                type=\"tel\"\n                fullWidth\n                id=\"number\"\n                label=\"Number\"\n                name=\"number\"\n                error={phoneError}\n                onChange={handleChangePhone}\n                value={phone}\n                variant=\"standard\"\n                onKeyPress={e => !/[0-9]/.test(e.key) && e.preventDefault()}\n              />\n            </Grid>\n          </Grid>\n\n          <Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3 }}>\n            Edit contact\n          </Button>\n        </Box>\n      </Box>\n    </Modal>\n  );\n};\n\nexport default EditContactModal;\n","import { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\n//Local import\nimport { showError, showSuccess } from 'utils/notification';\nimport { useEditContactMutation, useGetContactsQuery } from 'redux/api';\nimport { normalizedName } from 'services/normalizedName';\nimport { validationPhone } from 'services/validationPhone';\n\nexport const useEditContactModal = () => {\n  const { contactId } = useParams();\n  const navigate = useNavigate();\n\n  const { data: contacts } = useGetContactsQuery();\n\n  const prevContact = contacts\n    .filter(({ id }) => id === contactId)\n    .reduce((_, contact) => contact, {});\n\n  const [editContact, { isError, isSuccess }] = useEditContactMutation();\n\n  const [name, setName] = useState(prevContact.name);\n  const [phone, setPhone] = useState(prevContact.number);\n  const [nameError, setNameError] = useState(false);\n  const [phoneError, setPhoneError] = useState(false);\n\n  const handleChangeName = e => setName(e.currentTarget.value);\n  const handleChangePhone = e => setPhone(e.currentTarget.value);\n\n  const handleEditContact = event => {\n    event.preventDefault();\n\n    if (prevContact.name === name && prevContact.number === phone) {\n      navigate('/contacts');\n      return;\n    }\n\n    const contactsName = contacts.map(contact => contact.name);\n\n    const isMatchName = contactsName.some(\n      contactName => contactName.toLowerCase() === name.toLowerCase()\n    );\n\n    if (isMatchName && prevContact.name !== name) {\n      setNameError(true);\n      return showError(`${name} is already in contacts`);\n    } else {\n      setNameError(false);\n    }\n\n    const isValidationPhoneError = validationPhone(phone);\n\n    if (isValidationPhoneError) {\n      return setPhoneError(true);\n    }\n\n    const newEditContact = {\n      name: normalizedName(name),\n      number: phone,\n    };\n\n    editContact({ id: prevContact.id, payload: { ...newEditContact } });\n  };\n\n  useEffect(() => {\n    if (isSuccess) {\n      showSuccess('Contact update');\n      navigate('/contacts');\n    }\n  }, [isSuccess, navigate]);\n\n  useEffect(() => {\n    if (isError) {\n      showError(`Ups! Something was wrong`);\n    }\n  }, [isError]);\n\n  return {\n    name,\n    phone,\n    nameError,\n    phoneError,\n    handleChangeName,\n    handleChangePhone,\n    handleEditContact,\n  };\n};\n","export const normalizedName = name => {\n  if (name === '') return '';\n\n  return name\n    .trim()\n    .split(/\\s+/)\n    .map(word => word[0].toUpperCase() + word.substring(1))\n    .join(' ');\n};\n","import { showError } from '../utils/notification';\n\nexport const validationPhone = phone => {\n  if (phone.length < 7 || phone === '') {\n    showError('Phone must have 7 character min');\n    return true;\n  } else {\n    return false;\n  }\n};\n","import { toast } from 'react-toastify';\n\nexport const showError = message =>\n  toast.error(message, {\n    position: 'top-right',\n    autoClose: 2000,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n    theme: 'dark',\n  });\n\nexport const showSuccess = message =>\n  toast.success(message, {\n    position: 'top-right',\n    autoClose: 2000,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n    theme: 'dark',\n  });\n"],"names":["children","navigate","useNavigate","useEffect","handleKeyDown","event","code","window","addEventListener","removeEventListener","Container","maxWidth","component","onClick","target","currentTarget","sx","position","top","left","width","height","display","justifyContent","alignItems","bgcolor","zIndex","contactId","useParams","contacts","useGetContactsQuery","data","prevContact","filter","id","reduce","_","contact","useEditContactMutation","editContact","isError","isSuccess","useState","name","setName","number","phone","setPhone","nameError","setNameError","phoneError","setPhoneError","showSuccess","showError","handleChangeName","e","value","handleChangePhone","handleEditContact","preventDefault","map","some","contactName","toLowerCase","validationPhone","newEditContact","normalizedName","payload","useEditContactModal","Box","xs","sm","md","lg","xl","padding","borderRadius","transform","boxShadow","Typography","variant","textAlign","marginBottom","noValidate","onSubmit","Grid","container","spacing","item","TextField","required","type","fullWidth","label","error","onChange","onKeyPress","test","key","Button","mt","trim","split","word","toUpperCase","substring","join","length","message","toast","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme"],"sourceRoot":""}