"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[1],{1:function(n,e,r){r.r(e),r.d(e,{default:function(){return z}});var t=r(5206),o=r(6871),a=(r(5462),r(1614)),i=r(1889),s=r(6403),c=r(6151),u=r(4554),l=r(890),d=r(4708),h=r(885),x=r(2791),f=r(7445),m=r(4430),p=r(4922),g=r(2138),j=r(5899),v="Spinner_spinner__bVWPl",Z=r(184),b=function(n){var e=n.size;return(0,Z.jsx)(j.frZ,{size:e,className:v})},C=function(){var n=function(){var n=(0,m.wY)().data,e=(0,m.Tn)(),r=(0,h.Z)(e,2),t=r[0],o=r[1],a=o.isError,i=o.isLoading,s=o.isSuccess,c=(0,x.useState)(""),u=(0,h.Z)(c,2),l=u[0],d=u[1],j=(0,x.useState)(""),v=(0,h.Z)(j,2),Z=v[0],b=v[1],C=(0,x.useState)(!1),w=(0,h.Z)(C,2),P=w[0],k=w[1],_=(0,x.useState)(!1),L=(0,h.Z)(_,2),S=L[0],y=L[1];(0,x.useEffect)((function(){s&&((0,f.s)("Contact added"),E())}),[s]),(0,x.useEffect)((function(){a&&(0,f.x)("Ups! Something was wrong")}),[a]);var E=function(){d(""),b(""),k(!1),y(!1)};return{name:l,phone:Z,handleAddContact:function(e){if(e.preventDefault(),n.map((function(n){return n.name})).some((function(n){return n.toLowerCase()===l.toLowerCase()})))return k(!0),(0,f.x)("".concat(l," is already in contacts"));if(k(!1),(0,g.U)(Z))return y(!0);var r={name:(0,p.Q)(l),number:Z};t(r)},handleChangeName:function(n){return d(n.currentTarget.value)},handleChangePhone:function(n){return b(n.currentTarget.value)},isLoading:i,nameError:P,phoneError:S}}(),e=n.name,r=n.phone,t=n.handleAddContact,o=n.handleChangeName,a=n.handleChangePhone,j=n.isLoading,v=n.nameError,C=n.phoneError;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(l.Z,{component:"h1",variant:"h4",sx:{textAlign:"center",marginBottom:2},children:"Phonebook"}),(0,Z.jsxs)(u.Z,{sx:{padding:4,bgcolor:"#fff",borderRadius:4,"&:hover":{boxShadow:"0px 0px 42px -20px rgba(0,0,0,0.3)"}},children:[(0,Z.jsx)(d.ZP,{}),(0,Z.jsxs)(u.Z,{component:"form",noValidate:!0,onSubmit:t,sx:{},children:[(0,Z.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(i.ZP,{item:!0,xs:12,children:(0,Z.jsx)(s.Z,{error:v,type:"text",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",variant:"standard",onChange:o,value:e})}),(0,Z.jsx)(i.ZP,{item:!0,xs:12,children:(0,Z.jsx)(s.Z,{type:"tel",error:C,required:!0,fullWidth:!0,id:"number",label:"Phone",name:"number",variant:"standard",onChange:a,value:r,onKeyPress:function(n){return!/[0-9]/.test(n.key)&&n.preventDefault()}})})]}),(0,Z.jsxs)(c.Z,{type:"submit",disabled:e.length<3,fullWidth:!0,variant:"contained",sx:{mt:3},children:["Add contact ",j&&(0,Z.jsx)(b,{size:20})]})]})]})]})},w=r(5048),P=r(5193),k=r(1538),_=function(n){return n.contacts.filter},L=function(){var n=(0,w.I0)(),e=(0,w.v9)(_),r=(0,P.Z)("(min-width:600px)");return(0,Z.jsxs)(u.Z,{component:"div",sx:{marginTop:"".concat(r?"0px":"25px")},children:[(0,Z.jsx)(l.Z,{component:"h2",variant:"h6",sx:{textAlign:"center",marginBottom:2},children:"Your contacts"}),(0,Z.jsx)(s.Z,{fullWidth:!0,id:"filter",label:"Find contact by name",name:"filter",variant:"standard",onChange:function(e){n((0,k.T)(e.currentTarget.value))},value:e,sx:{"& label":{fontSize:14}}})]})},S=r(3400),y=r(7247),E=r(1286),A=function(n){var e=n.contact,r=e.id,t=e.name,a=e.number,i=(0,o.s0)(),s=(0,m.Nt)(),c=(0,h.Z)(s,2),d=c[0],x=c[1].isLoading;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(u.Z,{component:"li",sx:{display:"flex",alignItems:"center"},children:[(0,Z.jsxs)(l.Z,{component:"p",variant:"span",sx:{width:"45%"},children:[t,":"]}),(0,Z.jsx)(l.Z,{component:"p",variant:"span",sx:{textAlign:"left"},children:a}),(0,Z.jsx)(S.Z,{"aria-label":"edit",onClick:function(){return i("/contacts/edit/".concat(r))},sx:{marginLeft:"auto","&:hover, &:focus":{bgcolor:"#d7f0d0",color:"#468d46"}},children:(0,Z.jsx)(E.Z,{})}),(0,Z.jsx)(S.Z,{"aria-label":"delete",onClick:function(){return d(r)},disabled:x,sx:{marginLeft:"3px","&:hover, &:focus":{bgcolor:"#f3dacf",color:"#d31616"}},children:x?(0,Z.jsx)(b,{size:20}):(0,Z.jsx)(y.Z,{})})]})})},T="ContactList_error__O58n0",N=function(){var n=(0,m.wY)(),e=n.data,r=n.isError,t=n.refetch,o=(0,w.v9)(_),a=function(){var n=o.toLowerCase().trim();return null===e||void 0===e?void 0:e.filter((function(e){return e.name.toLowerCase().includes(n)}))}();return(0,x.useEffect)((function(){t()}),[t]),(0,Z.jsxs)(u.Z,{component:"ul",sx:{display:"flex",flexDirection:"column",rowGap:1,width:"100%",marginTop:2},children:[e&&(0,Z.jsx)(Z.Fragment,{children:0!==a.length?a.map((function(n){return(0,Z.jsx)(A,{contact:n},n.id)})):(0,Z.jsx)("li",{className:T,children:"Not found name"})}),r&&(0,Z.jsx)("li",{children:"Ups, something was wrong! Reload page, please"})]})},z=function(){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(a.Z,{component:"main",sx:{paddingTop:4},children:[(0,Z.jsxs)(i.ZP,{container:!0,columnSpacing:{sm:5,md:10},children:[(0,Z.jsx)(i.ZP,{item:!0,xs:12,sm:5,children:(0,Z.jsx)(C,{})}),(0,Z.jsxs)(i.ZP,{item:!0,xs:12,sm:7,sx:{},children:[(0,Z.jsx)(L,{}),(0,Z.jsx)(N,{})]})]}),(0,Z.jsx)(t.Ix,{})]}),(0,Z.jsx)(o.j3,{})]})}},4922:function(n,e,r){r.d(e,{Q:function(){return t}});var t=function(n){return""===n?"":n.trim().split(/\s+/).map((function(n){return n[0].toUpperCase()+n.substring(1)})).join(" ")}},2138:function(n,e,r){r.d(e,{U:function(){return o}});var t=r(7445),o=function(n){return(n.length<7||""===n)&&((0,t.x)("Phone must have 7 character min"),!0)}},7445:function(n,e,r){r.d(e,{s:function(){return a},x:function(){return o}});var t=r(5206),o=function(n){return t.Am.error(n,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},a=function(n){return t.Am.success(n,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}}}]);
//# sourceMappingURL=1.5b1c578b.chunk.js.map